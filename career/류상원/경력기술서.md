🚀 [도전] 생성형 AI를 활용한 테스트 자동화 프로젝트

### **문제 정의**

소규모 기업의 1인 개발자로서 코드 리뷰 및 업무의 효율성을 높이기 위해 테스트 코드 자동화의 필요성을 느낌.
배민의 생성형 AI 활용 사례를 참고하여, **머지 리퀘스트 시 자동으로 JUnit5 테스트를 생성하고, Jacoco 커버리지를 확보**하는 시스템을 설계.

### **접근 방식**

- GitLab/GitHub 웹훅을 이용해 특정 라벨이 달린 PR을 트리거
- 에어플로우에서 AI 호출 → 3단계 가공 후 JUnit5 코드 자동 생성
- Jacoco를 통해 테스트 커버리지 확보 및 Slack 알림

### **결과 및 교훈**

✅ **"자동화"보다 중요한 건 "일관된 품질의 테스트 코드"**

✅ Java 코드를 Python 프로젝트로 처리하려니 부딪히는 한계가 많았음

✅ 최대한 모킹으로 단위 테스트를 처리하려 해도 결국 import 문이 필요하여 사람이 일일이 검토해야 함

✅ 생성형 AI는 기대한 만큼 일관성이 없었고, 결국 사람이 검토해야 하는 한계 발견

✅ 단순 자동화보다 **테스트 코드 작성 원칙을 배우고 적용하는 게 더 중요한 방향**

➡️ **약 2주간 시행착오 후, 프로젝트 방향을 변경하기로 결정**

### **프로젝트 시도 계기 및 참고 자료**

- 배민의 생성형 AI 활용 사례를 보고 가능성을 탐색
    - https://www.youtube.com/watch?v=v2icwh-nyl4
    - https://www.youtube.com/watch?v=yNDPlgHDWyo&t=1002s

### **📖 프로젝트 인사이트**

이 과정에서 `JUnit in Action 5`를 읽으며 테스트 코드의 역할을 재정의함. 단순 기능 검증을 넘어, **문서화 및 코드 설계 검증 도구**로 활용 가능함을 깨달음.

- 블로그에 테스트 코드의 역할과 책임에 대한 느낀 점을 정리
    - https://ryu-qqq.tistory.com/64
- 코드의 책임과 역할을 다시 정의하게 됨
    - 멀티모듈 프로젝트에서 의미 있는 네이밍 및 SRP(단일 책임 원칙) 준수 방향으로 설계 개선

➡️ 이를 바탕으로 멀티모듈 프로젝트에서 **의미 있는 네이밍과 SRP(단일 책임 원칙)를 준수하는 방향**으로 설계를 개선함.


🚀 **[도전] 지속 가능한 로깅 시스템 구축 및 멀티모듈 설계 개선**

### 문제 정의

- 서버 상태 분석 결과, **디버깅 과정에서 비효율성이 심각**하고, 에러 발생 시 Slack 알림이 단순 텍스트 형태로 도착하여 불편함 발생
- Kibana에 접속 후 로그 검색 및 Trace ID 필터링이 필요
- **근본적인 문제 해결 없이 개발 속도가 지연됨을 인식**

**참고 자료 및 학습 과정**

- 지속 가능한 코드 설계 관련 세션 참고
    - https://youtu.be/RVO02Z1dLF8?si=yiDN9FQ8FA151Coc
    - https://www.youtube.com/watch?v=PdofVTuM-tE
- 효과적인 로깅 시스템 구축 관련 세션
    - https://youtu.be/Ifz0LsfAG94?si=v9NQtEOPpQJqSPU0
    - https://techblog.woowahan.com/13429/

- 문제 해결을 위한 라이브러리 제작
     - https://github.com/ryu-qqq/moni-kit.git

    
🚀 **[도전] 외부몰 연동 아키텍처 개선 및 도메인 간 경계 명확화**

### 문제 정의

- 기존 시스템은 외부몰과 강한 결합도를 가지며, 유지보수성이 낮음
- 도메인과 외부몰 로직을 분리하고, **확장 가능한 아키텍처**로 개선 필요

### **🛠️ 개선 사항**

✅ **멀티모듈 아키텍처 설계** → `core-external` 모듈을 분리하여 외부몰 연동을 독립적으로 관리

✅ **전략 패턴 적용** → 각 외부몰별 `SiteRequestProcessor` 인터페이스를 활용하여 결합도 최소화

✅ **비동기 처리 및 버추얼 스레드 적용** → 대량 요청을 효과적으로 처리하고 성능 최적화

- 해당 내용에 대한 코드
     - https://github.com/ryu-qqq/core-server.git



🚀 **MySQL Bulk Insert Test**

🔍 실험 목적

- 서버 통합을 고려하면서 **데이터베이스 성능 최적화**가 중요한 과제로 떠오름
- 특히 **멀티 스레드 환경에서 `LAST_INSERT_ID()`의 일관성이 유지되는지 검증**

### 실험 내용

1. **멀티 스레드 환경에서 `LAST_INSERT_ID()`의 안정성 테스트**
2. **롤백 발생 시 트랜잭션 격리 수준 확인** → 특정 스레드에서 예외 발생 시, 다른 스레드의 데이터 일관성 유지 여부 검증

실험 코드 및 분석 내용 https://github.com/ryu-qqq/mysql-bulk-insert

참고자료

https://helloworld.kurly.com/blog/bulk-performance-tuning/